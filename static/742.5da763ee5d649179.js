"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[742],{1742:(C,u,a)=>{a.r(u),a.d(u,{AdminDashboardModule:()=>Z});var o=a(6895),l=a(7861),r=a(2912),t=a(4650),c=a(1435),h=a(6864);function g(i,d){if(1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()()()),2&i){const e=d.$implicit;t.xp6(3),t.Oqu(e.firstName),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.phone)}}function v(i,d){if(1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()()()),2&i){const e=d.$implicit;t.xp6(3),t.Oqu(e.firstName),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.phone)}}function m(i,d){if(1&i&&(t.TgZ(0,"div",1)(1,"div",16)(2,"div",17)(3,"div",1)(4,"div",18)(5,"div",3)(6,"div",19)(7,"h4",20),t._uU(8,"Schedule Metrics"),t.qZA()(),t.TgZ(9,"div",21)(10,"div",4)(11,"div",22),t._UZ(12,"p-chart",23),t.qZA()()()()(),t.TgZ(13,"div",18)(14,"div",3)(15,"div",19)(16,"h4",20),t._uU(17,"User Metrics"),t.qZA()(),t.TgZ(18,"div")(19,"div",4)(20,"div",22),t._UZ(21,"p-chart",23),t.qZA()()()()()(),t.TgZ(22,"div",1)(23,"div",24)(24,"div",25)(25,"div",19)(26,"h4",20),t._uU(27,"Tutors"),t.qZA()(),t.TgZ(28,"div",4)(29,"div",26)(30,"table",27)(31,"thead")(32,"tr")(33,"th"),t._uU(34,"Name"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"Email"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Phone"),t.qZA()()(),t.YNc(39,g,8,3,"tbody",28),t.qZA()()(),t.TgZ(40,"div",29)(41,"h4",30),t._uU(42,"View all tutors >"),t.qZA()()()(),t.TgZ(43,"div",24)(44,"div",25)(45,"div",19)(46,"h4",20),t._uU(47,"Students"),t.qZA()(),t.TgZ(48,"div",4)(49,"div",26)(50,"table",27)(51,"thead")(52,"tr")(53,"th"),t._uU(54,"Name"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Email"),t.qZA(),t.TgZ(57,"th"),t._uU(58,"Phone"),t.qZA()()(),t.YNc(59,v,8,3,"tbody",28),t.qZA()()(),t.TgZ(60,"div",29)(61,"h4",30),t._uU(62,"View all students >"),t.qZA()()()()()()()()),2&i){const e=t.oxw();t.xp6(12),t.Q6J("data",e.data)("options",e.options),t.xp6(9),t.Q6J("data",e.tutorData)("options",e.optionsData),t.xp6(18),t.Q6J("ngForOf",null==e.tutorsList?null:e.tutorsList.slice(0,6)),t.xp6(2),t.Q6J("routerLink","/admin/tutor-list"),t.xp6(18),t.Q6J("ngForOf",null==e.studentsList?null:e.studentsList.slice(0,6)),t.xp6(2),t.Q6J("routerLink","/admin/student-list")}}const p=[{path:"",component:(()=>{class i{constructor(e,s){this.dashboardService=e,this.schedulesService=s}ngOnInit(){this.getAllStudents(),this.getAllTutors(),this.getAdminScheduleCount(),this.getAllUserCounts(),this.getTotalRevenue(),this.getStatusChartmetricsCount(),this.updatePieChart()}getAllStudents(){this.dashboardService.getAllStudents().subscribe(e=>{this.studentsList=e.allStudents})}getAllUserCounts(){this.dashboardService.getAllUserCounts().subscribe(e=>{this.userMetrics=e.usersCount,this.updatePieChart()})}getTotalRevenue(){this.dashboardService.getTotalRevenue().subscribe(e=>{this.totalRevenue=e.amount[0]})}getAllTutors(){this.dashboardService.getAllTutors().subscribe(e=>{this.tutorsList=e.allTutors,this.updatePieChart()})}getAdminScheduleCount(){this.schedulesService.getAdminScheduleCount().subscribe(e=>{this.adminScheduleCount=e.schedule[0]})}getStatusChartmetricsCount(){let e=[0,0,0,0,0],s=["REQUESTED","ACCEPTED","CONFIRMED","REJECTED","CANCELLED"];this.schedulesService.getAdminScheduleCount().subscribe(b=>{b.schedule[0].statusMetrics.forEach(n=>{switch(n.status){case"REQUESTED":e[0]=n.count;break;case"ACCEPTED":e[1]=n.count;break;case"CONFIRMED":e[2]=n.count;break;case"REJECTED":e[3]=n.count;break;case"CANCELLED":e[4]=n.count}}),this.data={labels:s,datasets:[{data:e,backgroundColor:["#f39c12","rgb(15 67 183 )","rgba(15, 183, 107)","rgba(242, 17, 54)","rgba(242, 17, 54)"]}]}})}updatePieChart(){this.studentsList&&this.userMetrics&&(this.tutorData={labels:["Students","Tutors"],datasets:[{data:[this.userMetrics.students,this.userMetrics.tutors],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)"]}]},this.optionsData={responsive:!0,maintainAspectRatio:!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(c.s),t.Y36(h.F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin-dashboard"]],decls:52,vars:5,consts:[[1,"page-wrapper"],[1,"row"],[1,"col-xl-3","col-sm-6","col-12"],[1,"card"],[1,"card-body"],[1,"dash-widget-header"],[1,"dash-widget-icon","text-success"],[1,"fa","fa-credit-card"],[1,"dash-count"],[1,"dash-widget-info"],[1,"text-muted"],[1,"dash-widget-icon","text-primary","border-primary"],[1,"fa","fa-users"],[1,"dash-widget-icon","text-warning","border-warning"],[1,"fa","fa-folder"],["class","row",4,"ngIf"],[1,"col"],[1,"card-chart"],[1,"col-md-6"],[1,"card-header"],[1,"card-title"],[1,""],[1,"chartcard"],["type","pie",3,"data","options"],[1,"col-md-6","d-flex"],[1,"card","card-table","flex-fill"],[1,"table-responsive"],[1,"table","table-hover","table-center","mb-0"],[4,"ngFor","ngForOf"],[1,"card-footer","d-flex","justify-content-end"],[1,"viewAll",3,"routerLink"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"span",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"div",8)(10,"h3"),t._uU(11),t.qZA()()(),t.TgZ(12,"div",9)(13,"h6",10),t._uU(14,"Appointments"),t.qZA()()()()(),t.TgZ(15,"div",2)(16,"div",3)(17,"div",4)(18,"div",5)(19,"span",11),t._UZ(20,"i",12),t.qZA(),t.TgZ(21,"div",8)(22,"h3"),t._uU(23),t.qZA()()(),t.TgZ(24,"div",9)(25,"h6",10),t._uU(26,"Tutors"),t.qZA()()()()(),t.TgZ(27,"div",2)(28,"div",3)(29,"div",4)(30,"div",5)(31,"span",11),t._UZ(32,"i",12),t.qZA(),t.TgZ(33,"div",8)(34,"h3"),t._uU(35),t.qZA()()(),t.TgZ(36,"div",9)(37,"h6",10),t._uU(38,"Students"),t.qZA()()()()(),t.TgZ(39,"div",2)(40,"div",3)(41,"div",4)(42,"div",5)(43,"span",13),t._UZ(44,"i",14),t.qZA(),t.TgZ(45,"div",8)(46,"h3"),t._uU(47),t.qZA()()(),t.TgZ(48,"div",9)(49,"h6",10),t._uU(50,"Revenue"),t.qZA()()()()()(),t.YNc(51,m,63,8,"div",15),t.qZA()()),2&e&&(t.xp6(11),t.Oqu((null==s.adminScheduleCount?null:s.adminScheduleCount.totalDocuments)||0),t.xp6(12),t.Oqu(s.userMetrics&&s.userMetrics.tutors||0),t.xp6(12),t.Oqu(s.userMetrics&&s.userMetrics.students||0),t.xp6(12),t.hij("$ ",s.totalRevenue&&s.totalRevenue.totalAmountReceived||0,""),t.xp6(4),t.Q6J("ngIf",s.adminScheduleCount&&0!==s.adminScheduleCount.statusMetrics.length))},dependencies:[o.sg,o.O5,r.rH,l.C],styles:[".page-wrapper[_ngcontent-%COMP%]{margin-left:0;padding-top:0}.status[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem}.dashboard_status[_ngcontent-%COMP%]{border:1px solid rgba(183,183,183,.05);flex-direction:column;align-items:flex-start;padding:1rem}.rejected[_ngcontent-%COMP%]{background-color:#f211361f;color:#e63c3c}.reject[_ngcontent-%COMP%]{background:rgb(183 78 23 / .12);color:#ea580c}H4[_ngcontent-%COMP%], H6[_ngcontent-%COMP%]{color:inherit}.viewAll[_ngcontent-%COMP%]{cursor:pointer}.viewAll[_ngcontent-%COMP%]:hover{color:#183462}.chartcard[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),i})()}];let A=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[r.Bz.forChild(p),r.Bz]}),i})(),Z=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[o.ez,A,l.S]}),i})()}}]);