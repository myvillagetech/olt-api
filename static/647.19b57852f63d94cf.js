"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[647],{1647:(B,p,l)=>{l.r(p),l.d(p,{FaqModule:()=>Y});var d=l(6895),g=l(2210),u=l(2912),c=l(4006),q=l(7579),t=l(4650),m=l(9886),f=l(8711),_=l(7185);function v(o,a){1&o&&(t.TgZ(0,"p",20),t._uU(1," Question is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function b(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,v,4,0,"p",19),t.qZA()),2&o){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.addFaqForm.get("question"))?null:n.hasError("required"))}}function C(o,a){1&o&&(t.TgZ(0,"p",20),t._uU(1," Answer is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function F(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,C,4,0,"p",19),t.qZA()),2&o){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.addFaqForm.get("answer"))?null:n.hasError("required"))}}function A(o,a){1&o&&(t.TgZ(0,"p",20),t._uU(1," Category is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function x(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,A,4,0,"p",19),t.qZA()),2&o){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.addFaqForm.get("category"))?null:n.hasError("required"))}}let h=(()=>{class o{constructor(e,n,i,r){this.formBuilder=e,this.modalRef=n,this.faqService=i,this.toastrService=r,this.categoryList=[{name:"student"},{name:"tutor"},{name:"all"}],this.searchCriteriaObject={pageNumber:0,pageSize:20,sortField:"",sortOrder:0,category:[],searchTerm:""}}ngOnInit(){this.onClose=new q.x,this.createFAQForm(),this.data&&this.patchValues(),this.getAllFaqsBySearchCriteria()}createFAQForm(){this.addFaqForm=this.formBuilder.group({id:[""],question:["",[c.kI.required]],answer:["",[c.kI.required]],category:["",[c.kI.required]]})}patchValues(){this.addFaqForm.patchValue({id:this.data?._id,question:this.data?.question,answer:this.data?.answer,category:this.data?.category})}onSubmit(e){e.value.id?this.faqService.updateFaq(e.value.id,e.value).subscribe(n=>{n.message&&(this.onClose.next(!0),this.modalRef.hide(),this.toastrService.success("",n.message))}):this.faqService.addFaq(this.addFaqForm.value).subscribe(n=>{n.message&&(this.onClose.next(!0),this.modalRef.hide(),this.toastrService.success("",n.message))},n=>{this.toastrService.success("",n.message)})}getAllFaqsBySearchCriteria(){this.faqService.getAllFaqsBySearchCriteria(this.searchCriteriaObject).subscribe(e=>{})}closePopup(){this.modalRef.hide()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(m.UZ),t.Y36(f.P),t.Y36(_._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-faq"]],decls:32,vars:7,consts:[[1,"modal-body"],[1,"form-content"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-control-label"],["type","text","formControlName","question","required","",1,"form-control"],[4,"ngIf"],["type","text","rows","4","cols","50","formControlName","answer","required","",1,"form-control"],[1,"filter-widget","mb-2"],["optionLabel","name","placeholder","Select a category","optionValue","name","formControlName","category",3,"options","showClear"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-primary","btn-right",3,"disabled"],["class","feild-error",4,"ngIf"],[1,"feild-error"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Add FAQs"),t.qZA()(),t.TgZ(8,"div",7)(9,"form",8),t.NdJ("ngSubmit",function(){return n.onSubmit(n.addFaqForm)}),t.TgZ(10,"div",9)(11,"label",10),t._uU(12,"Question"),t.qZA(),t._UZ(13,"input",11),t.YNc(14,b,2,1,"div",12),t.qZA(),t.TgZ(15,"div",9)(16,"label",10),t._uU(17,"Answer"),t.qZA(),t._UZ(18,"textarea",13),t.YNc(19,F,2,1,"div",12),t.qZA(),t.TgZ(20,"div",9)(21,"div",14)(22,"label",10),t._uU(23,"Category"),t.qZA(),t.TgZ(24,"div"),t._UZ(25,"p-dropdown",15),t.qZA()(),t.YNc(26,x,2,1,"div",12),t.qZA(),t.TgZ(27,"div",16)(28,"button",17),t.NdJ("click",function(){return n.closePopup()}),t._uU(29,"Close"),t.qZA(),t.TgZ(30,"button",18),t._uU(31,"Submit"),t.qZA()()()()()()()()()),2&e){let i,r,s;t.xp6(9),t.Q6J("formGroup",n.addFaqForm),t.xp6(5),t.Q6J("ngIf",(null==(i=n.addFaqForm.get("question"))?null:i.invalid)&&((null==(i=n.addFaqForm.get("question"))?null:i.dirty)||(null==(i=n.addFaqForm.get("question"))?null:i.touched))),t.xp6(5),t.Q6J("ngIf",(null==(r=n.addFaqForm.get("answer"))?null:r.invalid)&&((null==(r=n.addFaqForm.get("answer"))?null:r.dirty)||(null==(r=n.addFaqForm.get("answer"))?null:r.touched))),t.xp6(6),t.Q6J("options",n.categoryList)("showClear",!0),t.xp6(1),t.Q6J("ngIf",(null==(s=n.addFaqForm.get("category"))?null:s.invalid)&&((null==(s=n.addFaqForm.get("category"))?null:s.dirty)||(null==(s=n.addFaqForm.get("category"))?null:s.touched))),t.xp6(4),t.Q6J("disabled",n.addFaqForm.invalid)}},dependencies:[d.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,g.Lt],styles:[".feild-error[_ngcontent-%COMP%]{color:#eb8989}.btn-right[_ngcontent-%COMP%]{margin-right:12px!important}.card-body[_ngcontent-%COMP%]{padding:0;padding-top:1rem}.card-header[_ngcontent-%COMP%]{padding-inline:0}"]}),o})();var y=l(2887),Z=l(791);function w(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"p-dropdown",8),t.NdJ("ngModelChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedcategory=i)})("ngModelChange",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.applyCategory())}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("options",e.categoryList)("showClear",!0)("ngModel",e.selectedcategory)}}function T(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.openModal())}),t._uU(1," Add FAQ "),t.qZA()}}function O(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("(",e.category,")")}}function M(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",20)(1,"button",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.editFaq(i))}),t._UZ(2,"i",22),t.qZA(),t.TgZ(3,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.deleteFaq(i._id))}),t._UZ(4,"i",24),t.qZA()()}}function S(o,a){if(1&o&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"h3",17),t._uU(6),t.YNc(7,O,2,1,"span",4),t.qZA(),t.YNc(8,M,5,0,"div",18),t.qZA(),t.TgZ(9,"p",19),t._uU(10),t.qZA()()()()()),2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(6),t.hij("",e.question," "),t.xp6(1),t.Q6J("ngIf","Admin"===n.role),t.xp6(1),t.Q6J("ngIf","Admin"===n.role),t.xp6(2),t.Oqu(e.answer)}}function J(o,a){1&o&&(t.TgZ(0,"div",25),t._uU(1,"No FAQs found "),t.qZA())}function Q(o,a){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,S,11,4,"div",10),t.YNc(2,J,2,0,"div",11),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.faqData),t.xp6(1),t.Q6J("ngIf",0==(null==e.faqData?null:e.faqData.length))}}function I(o,a){1&o&&(t.ynx(0),t.TgZ(1,"p",38),t._uU(2,"No related data found."),t.qZA(),t.BQk())}function N(o,a){if(1&o&&(t.TgZ(0,"div",40)(1,"h2",41)(2,"button",42),t._uU(3),t.qZA()(),t.TgZ(4,"div",43)(5,"p",44),t._uU(6),t.qZA()()()),2&o){const e=a.$implicit,n=a.index;t.xp6(2),t.uIk("data-bs-target","#collapse"+n),t.xp6(1),t.hij(" ",e.question," "),t.xp6(1),t.Q6J("id","collapse"+n),t.xp6(2),t.hij(" ",e.answer," ")}}function U(o,a){if(1&o&&t.YNc(0,N,7,4,"div",39),2&o){const e=t.oxw(2);t.Q6J("ngForOf",e.faqData)}}function P(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"h3"),t._uU(5,"frequently asked questions"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Have Questions? we're here to help"),t.qZA()(),t.TgZ(8,"div",30)(9,"input",31),t.NdJ("keyup",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.applyFilters(i))}),t.qZA(),t.TgZ(10,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleAllAccordions())}),t._uU(11),t.qZA()(),t.TgZ(12,"div",33)(13,"div")(14,"div",34)(15,"div",35),t.YNc(16,I,3,0,"ng-container",36),t.YNc(17,U,1,1,"ng-template",null,37,t.W1O),t.qZA()()()()()()()}if(2&o){const e=t.MAs(18),n=t.oxw();t.xp6(11),t.hij(" ",n.isAccordionOpen?"Close All FAQs":"View All FAQs"," "),t.xp6(5),t.Q6J("ngIf",0===n.faqData.length)("ngIfElse",e)}}const j=[{path:"",component:(()=>{class o{constructor(e,n,i,r){this.modalService=e,this.faqService=n,this.toastrService=i,this.storageService=r,this.buttonLabel="Toggle All Accordions Open",this.isAccordionOpen=!1,this.searchCriteriaObject={pageNumber:0,pageSize:0,sortField:"",sortOrder:0,category:[],searchTerm:""},this.categoryList=[{name:"student"},{name:"tutor"},{name:"all"}]}ngOnInit(){this.role=this.storageService.getDataFromLocalStorage("role"),this.role?"admin"===this.role.toLocaleLowerCase()?this.getAllFaqsBySearchCriteria(this.searchCriteriaObject):this.getAllFaqsBySearchCriteria({...this.searchCriteriaObject,category:["all",this.role.toLocaleLowerCase()]}):this.getAllFaqsBySearchCriteria({...this.searchCriteriaObject})}openModal(){this.modalRef=this.modalService.show(h),this.modalRef.content.onClose.subscribe(e=>{e&&this.getAllFaqsBySearchCriteria({...this.searchCriteriaObject})})}getAllFaqsBySearchCriteria(e){this.faqService.getAllFaqsBySearchCriteria(e).subscribe(n=>{this.faqData=n.faqs[0].faqs})}editFaq(e){this.modalRef=this.modalService.show(h,{initialState:{data:e}}),this.modalRef.content.onClose.subscribe(n=>{n&&this.getAllFaqsBySearchCriteria(this.searchCriteriaObject)})}deleteFaq(e){this.modalRef=this.modalService.show(y.$,{class:"modal-dialog modal-dialog-centered",initialState:{confirmMessage:"Are you sure want to delete?"}}),this.modalRef.content.onClose.subscribe(n=>{n&&this.faqService.deleteFaq(e).subscribe(i=>{i.message&&(this.toastrService.success(i.message),this.getAllFaqsBySearchCriteria(this.searchCriteriaObject))})})}applyCategory(){this.selectedcategory?this.searchCriteriaObject.category[0]=this.selectedcategory:(this.selectedcategory=void 0,this.searchCriteriaObject.category=[]),this.getAllFaqsBySearchCriteria(this.searchCriteriaObject)}applyFilters(e){e&&(this.searchCriteriaObject.searchTerm=e.target.value,this.getAllFaqsBySearchCriteria(this.searchCriteriaObject))}toggleAllAccordions(){this.isAccordionOpen=!this.isAccordionOpen;for(let e=0;e<this.faqData.length;e++){const n=document.querySelector(`[data-bs-target="#collapse${e}"]`);if(n){const i=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});n.dispatchEvent(i)}}this.buttonLabel="Toggle All Accordions Open"===this.buttonLabel?"Toggle All Accordions Close":"Toggle All Accordions Open"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.tT),t.Y36(f.P),t.Y36(_._W),t.Y36(Z.V))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-faq"]],decls:8,vars:4,consts:[[1,"page-header"],[1,"row"],[1,"col-md-6"],[1,"col-md-6","inputs"],[4,"ngIf"],["type","button","class","btn btn-primary me-1",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["class","container mt-3",4,"ngIf"],["optionLabel","name","placeholder","Select a category","optionValue","name",3,"options","showClear","ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","me-1",3,"click"],["class","col-md-12 cardview",4,"ngFor","ngForOf"],["class","col-md-6 text-danger",4,"ngIf"],[1,"col-md-12","cardview"],[1,"dash-board-list","blue"],[1,"dash-widget"],[1,"dash-widget-info","cardview"],[1,"d-flex","justify-content-between"],[1,"faq_title"],["class","d-flex gap-1",4,"ngIf"],[1,"m-0","text_align"],[1,"d-flex","gap-1"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-pen"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"col-md-6","text-danger"],[1,"container","mt-3"],[1,"col-lg-10","col-md-10","mx-auto","pb-5"],[1,"card"],[1,"card-header","bg-gradient-primary","p-5"],[1,"form-group","p-2","d-flex","gap-1"],["type","text","placeholder","search",1,"form-control",3,"keyup"],[1,"btn","btn-primary",3,"click"],[1,"card-body","p-5","pt-0"],[1,"accordion_wrapper"],["id","accordion",1,"accordion"],[4,"ngIf","ngIfElse"],["faqItems",""],[1,"text-danger"],["class","accordion-item",4,"ngFor","ngForOf"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button"],["data-bs-parent","#accordion",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t.YNc(4,w,2,3,"div",4),t.YNc(5,T,2,0,"button",5),t.qZA()()(),t.YNc(6,Q,3,2,"div",6),t.YNc(7,P,19,3,"div",7)),2&e&&(t.xp6(4),t.Q6J("ngIf","Admin"===n.role),t.xp6(1),t.Q6J("ngIf","Admin"===n.role),t.xp6(1),t.Q6J("ngIf","Admin"===n.role),t.xp6(1),t.Q6J("ngIf","Admin"!=n.role))},dependencies:[d.sg,d.O5,c.JJ,c.On,g.Lt],styles:['.page-header[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:1rem}.accordion-button[_ngcontent-%COMP%]{color:#26292c;font-size:16px;font-weight:600;padding-left:0}.dash-widget[_ngcontent-%COMP%]{min-height:137px;align-items:baseline}.btn-edit[_ngcontent-%COMP%]{background:#ff9c27;border:transparent}.text_align[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;line-height:1.5em;text-align:justify}.accordion_wrapper[_ngcontent-%COMP%]{text-align:center}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:feather;color:#fff;letter-spacing:.05em;font-size:30px;margin-block:.5em;text-transform:capitalize;font-weight:600}.accordion_wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;display:block;padding-left:0}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#26292c;background:#fff;box-shadow:inset 0 -1px #00000020}.accordion-body[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;line-height:1.5em;text-align:justify;color:#757575;font-size:14px;padding-top:0}.accordion-item[_ngcontent-%COMP%]{background-color:#fff;border:transparent;border-bottom:1px solid rgb(0 0 0 / 10%)!important;margin:auto}.accordion-item[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.accordion-button[_ngcontent-%COMP%]:focus{z-index:3;border-color:transparent;outline:0;box-shadow:none}.accordion-button[_ngcontent-%COMP%]:after{content:"\\f107";font-family:"Font Awesome 5 Free";font-weight:900;background:none}.card-header[_ngcontent-%COMP%]{background:#009da6;color:#fff;text-align:center}.accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{background-image:none;transform:rotate(0)}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){box-shadow:none}.form-control[_ngcontent-%COMP%]{width:200px;margin-left:auto}.btn-sm[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}']}),o})()}];let k=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(j),u.Bz]}),o})(),Y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,k,c.u5,c.UX,g.kW]}),o})()}}]);