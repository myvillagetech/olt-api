"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[938],{2938:(F,u,s)=>{s.r(u),s.d(u,{CategoriesModule:()=>w});var p=s(6895),n=s(4006),c=s(2912),h=s(7579),t=s(4650),d=s(9886),C=s(9147),y=s(7185);function b(o,i){1&o&&(t.TgZ(0,"p",17),t._uU(1," Category is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function _(o,i){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,b,4,0,"p",16),t.qZA()),2&o){const e=t.oxw();let r;t.xp6(1),t.Q6J("ngIf",null==(r=e.categoryForm.get("categoryName"))?null:r.hasError("required"))}}let f=(()=>{class o{constructor(e,r,a,l){this.modalRef=e,this.modalService=r,this._categoryService=a,this.toastr=l}ngOnInit(){this.onClose=new h.x,this.createForm(),this.data&&this.patchValues()}createForm(){this.categoryForm=new n.cw({id:new n.NI(""),categoryName:new n.NI("",[n.kI.required]),categoryDiscription:new n.NI("")})}patchValues(){this.categoryForm.patchValue({id:this.data?._id,categoryName:this.data?.categoryName,categoryDiscription:this.data?.categoryDiscription})}onSubmit(e){e.valid&&(e.value.id?this._categoryService.updateCategory(e.value.id,e.value).subscribe(r=>{r.message&&(this.onClose.next(!0),this.modalRef.hide(),this.toastr.success("",r.message))}):this._categoryService.addCategory(e.value).subscribe(r=>{r.message&&(this.onClose.next(!0),this.modalRef.hide(),this.toastr.success("",r.message))}))}closePopup(){this.modalRef.hide()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.UZ),t.Y36(d.tT),t.Y36(C.H),t.Y36(y._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-update-category"]],decls:23,vars:4,consts:[[1,"modal-body"],[1,"form-content"],[1,"row"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-control-label"],["type","text","formControlName","categoryName","required","",1,"form-control"],[4,"ngIf"],["formControlName","categoryDiscription",1,"form-control"],[1,"text-end"],["type","button",1,"btn","btn-danger","me-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","feild-error",4,"ngIf"],[1,"feild-error"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6),t.qZA()(),t.TgZ(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(){return r.onSubmit(r.categoryForm)}),t.TgZ(9,"div",8)(10,"label",9),t._uU(11,"Category"),t.qZA(),t._UZ(12,"input",10),t.YNc(13,_,2,1,"div",11),t.qZA(),t.TgZ(14,"div",8)(15,"label",9),t._uU(16,"Description"),t.qZA(),t._UZ(17,"textarea",12),t.qZA(),t.TgZ(18,"div",13)(19,"button",14),t.NdJ("click",function(){return r.closePopup()}),t._uU(20,"Close"),t.qZA(),t.TgZ(21,"button",15),t._uU(22,"Submit"),t.qZA()()()()()()()()),2&e){let a;t.xp6(6),t.Oqu(r.data?"Update Category":"Add Category"),t.xp6(2),t.Q6J("formGroup",r.categoryForm),t.xp6(5),t.Q6J("ngIf",(null==(a=r.categoryForm.get("categoryName"))?null:a.invalid)&&((null==(a=r.categoryForm.get("categoryName"))?null:a.dirty)||(null==(a=r.categoryForm.get("categoryName"))?null:a.touched))),t.xp6(8),t.Q6J("disabled",r.categoryForm.invalid)}},dependencies:[p.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u],styles:[".feild-error[_ngcontent-%COMP%]{color:#eb8989}.btn-right[_ngcontent-%COMP%]{margin-right:12px!important}.card-body[_ngcontent-%COMP%]{padding-inline:0;padding-bottom:0}.card-header[_ngcontent-%COMP%]{padding-inline:0}"]}),o})();var v=s(2887),g=s(8396),Z=s(805);function T(o,i){1&o&&(t.TgZ(0,"tr")(1,"th",20),t._uU(2," Category "),t.qZA(),t.TgZ(3,"th",21),t._uU(4," Description "),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Actions"),t.qZA()())}function A(o,i){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2," No Categories found "),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.uIk("colspan",null==e.categories)}}function U(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr",22)(1,"td")(2,"span",23),t._uU(3,"Category"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span",23),t._uU(7,"Discription"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",23),t._uU(11,"Actions"),t.qZA(),t.TgZ(12,"div",24)(13,"button",25),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editCategory(l))}),t._uU(14," Edit "),t.qZA(),t.TgZ(15,"button",26),t.NdJ("click",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteCategory(l))}),t._uU(16," Delete "),t.qZA()()()()}if(2&o){const e=i.$implicit;t.xp6(4),t.hij(" ",e.categoryName," "),t.xp6(4),t.hij(" ",e.categoryDiscription," ")}}const S=function(){return[10,25,50]},x=[{path:"",component:(()=>{class o{constructor(e,r,a){this.modalService=e,this._categoryService=r,this.toastr=a}ngOnInit(){this.getAllCategories("categoryName")}openModal(){this.modalRef=this.modalService.show(f),this.modalRef.content.onClose.subscribe(e=>{e&&this.getAllCategories()})}getAllCategories(e){this.categories=[],this._categoryService.getAllCategories(e).subscribe(r=>{r.data.length>0&&(this.categories=r.data)})}categorySort(e){(this.sortOrder!=e.order||this.sortfield!=e.field)&&(this.getAllCategories(e.field),this.sortOrder=e.order,this.sortfield=e.field)}editCategory(e){this.modalRef=this.modalService.show(f,{initialState:{data:e}}),this.modalRef.content.onClose.subscribe(r=>{r&&this.getAllCategories()})}deleteCategory(e){this.modalRef=this.modalService.show(v.$,{class:"modal-dialog modal-dialog-centered",initialState:{confirmMessage:"Are you sure want to delete?"}}),this.modalRef.content.onClose.subscribe(r=>{r&&this._categoryService.deleteCategory(e._id).subscribe(a=>{a.message&&(this.toastr.success("",a.message),this.getAllCategories())})})}ngOnDestroy(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.tT),t.Y36(C.H),t.Y36(y._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categories"]],decls:25,vars:10,consts:[[1,"page-header"],[1,"row"],[1,"col-md-11"],[1,"col"],[1,"page-title"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"col-md-1"],[1,"add-btn-align"],["type","button",1,"btn","btn-primary","btn-lg","me-1",3,"click"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["dataKey","id","styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","customSort","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","sortFunction"],["dt",""],["pTemplate","header"],["pTemplate","emptymessage"],["pTemplate","body"],["pSortableColumn","categoryName"],["pSortableColumn","categoryDiscription"],[1,"p-selectable-row"],[1,"p-column-title"],[1,"actions"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-danger","me-2",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5,"Categories"),t.qZA(),t.TgZ(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9,"Dashboard"),t.qZA()(),t.TgZ(10,"li",8),t._uU(11,"Category"),t.qZA()()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"button",11),t.NdJ("click",function(){return r.openModal()}),t._uU(15," Add "),t.qZA()()()()(),t.TgZ(16,"div",1)(17,"div",12)(18,"div",13)(19,"div",14)(20,"p-table",15,16),t.NdJ("sortFunction",function(l){return r.categorySort(l)}),t.YNc(22,T,7,0,"ng-template",17),t.YNc(23,A,3,1,"ng-template",18),t.YNc(24,U,17,2,"ng-template",19),t.qZA()()()()()),2&e&&(t.xp6(8),t.Q6J("routerLink","/tutor/dashboard"),t.xp6(12),t.Q6J("value",r.categories)("customSort",!0)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(9,S))("paginator",!0)("filterDelay",0))},dependencies:[c.yS,g.iA,Z.jx,g.lQ],styles:[".table-overflow[_ngcontent-%COMP%]{overflow-x:hidden}.add-btn-align[_ngcontent-%COMP%]{text-align:right;padding:0 38px 0 0}.actions[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}"]}),o})()}];let N=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.Bz.forChild(x),c.Bz]}),o})(),w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,N,n.u5,n.UX,g.U$]}),o})()}}]);