"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[41],{6864:(S,p,o)=>{o.d(p,{F:()=>h});var u=o(4650),e=o(6557);let h=(()=>{class s{constructor(i){this.httpDataService=i}getAllCourses(){return this.httpDataService.get("course")}getSchedulesBySearchByCriteria(i){return this.httpDataService.post("schedule/searchByCriteria",i)}updateSchedule(i,d){return this.httpDataService.put(`schedule/${i}`,d)}addAttachments(i,d){return this.httpDataService.post(`schedule/attachments/${i}`,d)}addNotes(i,d){return this.httpDataService.post(`schedule/notes/${i}`,d)}getSchedulesByScheduleId(i){return this.httpDataService.get(`schedule/${i}`)}updateAcceptStatus(i){return this.httpDataService.post("schedule/acceptSchdule",i)}getTutorScheduleCount(){return this.httpDataService.get("schedule/tutor-schedule-counts")}getStudentScheduleCount(){return this.httpDataService.get("schedule/student-schedule-counts")}getAdminScheduleCount(){return this.httpDataService.get("schedule/admin-schedule-counts")}getStudentScheduleCountById(i){return this.httpDataService.get(`schedule/student-schedule-counts?student=${i}`)}getTutorScheduleCountById(i){return this.httpDataService.get(`schedule/tutor-schedule-counts?tutor=${i}`)}getLatestUpdatedSchedulesById(i){return this.httpDataService.get(`schedule/latest-updated-schedules/${i}`)}getLatestUpdatedSchedulesBytutorId(i){return this.httpDataService.get(`schedule/latest-updated-schedules/tutor${i}`)}cancelSchedule(i){return this.httpDataService.post("schedule/cancelSchdule",i)}rejectSchedule(i){return this.httpDataService.post("schedule/rejectSchdule",i)}getTotalEarned(i){return this.httpDataService.get(`payments/payout/totalAmount/${i}`)}getTotalTutoringHours(i){return this.httpDataService.get(`schedule/tutors-schedule-hours/${i}`)}requestSchedule(i){return this.httpDataService.post(`schedule/requestSchedule/${i}`,{})}getTutorPayoutsStatistics(i,d){return this.httpDataService.get(`payments/tutorPayoutStatistics/${i}/${d}`)}}return s.\u0275fac=function(i){return new(i||s)(u.LFG(e.L))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},5041:(S,p,o)=>{o.r(p),o.d(p,{NotesModule:()=>B});var u=o(6895),e=o(4650),h=o(805);let x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez],h.m8]}),t})();var m=o(2912),N=o(4025),b=o(6864),D=o(791),_=o(1493),g=o(4006),C=o(5121);function I(t,a){if(1&t&&(e.TgZ(0,"h5"),e._uU(1),e.qZA()),2&t){const n=a.$implicit,r=a.$implicit;e.xp6(1),e.AsE("",n.courseName," ",r?"":",","")}}function A(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div")(4,"h4",16),e._uU(5),e.TgZ(6,"a",17),e.NdJ("click",function(){const l=e.CHM(n).$implicit,v=e.oxw();return e.KtG(v.navigateToScheduleDetails(l))}),e._uU(7),e.qZA()(),e.TgZ(8,"div",18),e.YNc(9,I,2,2,"h5",9),e.qZA()(),e.TgZ(10,"div")(11,"button",19),e.NdJ("click",function(){const l=e.CHM(n).$implicit,v=e.oxw();return e.KtG(v.showDialog(l))}),e._uU(12,"Edit"),e.qZA()()(),e.TgZ(13,"div",20),e._UZ(14,"p",21),e.qZA()()()}if(2&t){const n=a.$implicit;e.xp6(5),e.AsE("",null==n?null:n.tutor.firstName," ",null==n?null:n.tutor.lastName," "),e.xp6(2),e.hij("(",n._id,")"),e.xp6(2),e.Q6J("ngForOf",n.subjects),e.xp6(5),e.Q6J("innerHTML",n.notes,e.oJD)}}function M(t,a){1&t&&(e.TgZ(0,"div")(1,"p",22),e._uU(2,"No notes found"),e.qZA()())}function Z(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(n);const c=e.oxw();return e.KtG(c.updateNotes())}),e._uU(1,"Save"),e.qZA()}}const E=[{path:"",component:(()=>{class t{constructor(n,r,c){this.schedulesService=n,this.storageService=r,this.router=c,this.userId="",this.requestPayload={pageNumber:0,pageSize:0,sortField:"updatedAt",sortOrder:-1,studentIds:[],tutorIds:[],subjects:[],dateRange:[],status:[],searchTerm:""},this.notes=[],this.visible=!1,this.selectedNote="",this.updatedNote="",this.dialogHeader=""}ngOnInit(){this.userId=this.storageService.getDataFromLocalStorage(N.I.USER_ID),this.userId&&(this.requestPayload.studentIds=[this.userId],this.getAllScheduleNotes())}getAllScheduleNotes(){this.notes=[],this.schedulesService.getSchedulesBySearchByCriteria(this.requestPayload).subscribe(n=>{n.data.forEach(r=>{r.notes&&this.notes.push(r)})})}navigateToScheduleDetails(n){this.router.navigate(["student/schedules/details"],{queryParams:{sid:n._id}})}showDialog(n){this.selectedNote=n,this.updatedNote=n.notes,this.dialogHeader=`${n.tutor.firstName} ${n.tutor.lastName} (${n._id})`,this.visible=!0}updateNotes(){this.schedulesService.addNotes(this.selectedNote._id,{notes:this.updatedNote}).subscribe(n=>{this.getAllScheduleNotes()})}saveAndClose(){this.updateNotes(),this.visible=!1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(b.F),e.Y36(D.V),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-notes"]],decls:20,vars:9,consts:[[1,"page-header"],[1,"row"],[1,"col"],[1,"page-title"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"doc-review","review-listing"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"header","draggable","modal","visible","maximizable","visibleChange"],[3,"ngModel","ngModelChange"],["pTemplate","footer"],[1,"card","mt-2"],[1,"card-header","d-flex","justify-content-between"],[1,"comment-author"],[1,"cursor",3,"click"],[1,"d-flex","gap-1"],[1,"btn","btn-warning",3,"click"],[1,"card-body"],[1,"comment-content",3,"innerHTML"],[1,"text-danger"],["Class","btn btn-primary mt-1",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Notes"),e.qZA(),e.TgZ(5,"ul",4)(6,"li",5)(7,"a",6),e._uU(8,"Dashboard"),e.qZA()(),e.TgZ(9,"li",7),e._uU(10,"Notes"),e.qZA()()()()(),e.TgZ(11,"div")(12,"div")(13,"div",8),e.ynx(14),e.YNc(15,A,15,5,"div",9),e.BQk(),e.YNc(16,M,3,0,"div",10),e.qZA()()(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(l){return r.visible=l}),e.TgZ(18,"p-editor",12),e.NdJ("ngModelChange",function(l){return r.updatedNote=l}),e.qZA(),e.YNc(19,Z,2,0,"ng-template",13),e.qZA()),2&n&&(e.xp6(7),e.Q6J("routerLink","/student/dashboard"),e.xp6(8),e.Q6J("ngForOf",r.notes),e.xp6(1),e.Q6J("ngIf",0===r.notes.length),e.xp6(1),e.Q6J("header",r.dialogHeader)("draggable",!1)("modal",!0)("visible",r.visible)("maximizable",!0),e.xp6(1),e.Q6J("ngModel",r.updatedNote))},dependencies:[u.sg,u.O5,m.yS,h.jx,_.V,g.JJ,g.On,C.ML],styles:[".cursor[_ngcontent-%COMP%]{cursor:pointer}  .p-dialog .p-dialog-header .p-dialog-title{color:#26292c;font-weight:500}@media only screen and (max-width: 575.98px){  .p-dialog{padding-inline:1rem!important;width:-moz-fit-content!important;width:fit-content!important}}"]}),t})()}];let F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(E),m.Bz]}),t})();var $=o(5593);let B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,F,x,_.S,g.u5,$.hJ,C.Z_]}),t})()}}]);